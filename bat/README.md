# バッチの説明


bat/address_dataset_generator/generate.php

使い方

- 引数なしでこのファイルを実行してください
- ./lib/SearchSupportedAreas/*.php の中にphpの配列を出力します
- この配列を使って対応エリア検索を行います
- この配列ファイルは5Mあるものものあるので、読み込む際はメモリに気をつけてください

メンテナンス

- 2020年9月のリリース後すぐに住所APIを提供していただけるそうなので、このバッチと、出力した配列は不要になります
- 不調になったらファイル一式をまるっと消してください

軽い仕様説明

- 先方からいただいた、関東と関西のExcelファイルをcsvにして同じディレクトリ内に配置してください
- そのcsvを元にphpの配列ファイルを出力します
- 関東と関西の処理が分かれているのは、いただいたExcelファイルが分かれていて、しかもフォーマットがそれぞれ異なっているためです
- phpの配列ファイルが県ごとに分かれているのはパフォーマンスに気を使っているためです。1ファイルに全ての情報をまとめてしまうとファイルサイズが数十Mになってしまい、この配列ファイルを読み込むだけでざっと１秒くらいかかってしまうため、それを避けるために県毎にファイルを分割しています。

